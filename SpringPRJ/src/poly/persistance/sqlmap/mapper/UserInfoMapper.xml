<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- JAVA와 연결할 Mapper 파일 설정 -->
<mapper namespace="poly.persistance.mapper.IUserInfoMapper">

	<!-- 게시판 리스트 쿼리 -->
	<insert id="getUserInfo" parameterType="UserInfoDTO">
		INSERT INTO USER_INFO
			(
				USER_ID,
				USER_NAME,
				PASSWORD,
				EMAIL,
				ADDR1,
				ADDR2,
				REG_ID,
				CHG_ID,
				CHG_DT
			)
		VALUES(
				#{user_id},
				#{user_name},
				#{password},
				#{email},
				#{addr1},
				#{addr2},
				#{user_id},
				SYSDATE,
				#{user_id},
				SYSDATE
		)
	</insert>
	
	<select id="getUserExists" parameterType="UserInfoDTO" resultType="UserInfoDTO">
		SELECT DECODE(COUNT(1), 0, 'N', 'Y') AS EXISTS_YN
			FROM USER_INFO
			WHERE EMAIL = #{email}
	</select>
</mapper>